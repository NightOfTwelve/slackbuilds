#!/bin/sh
# SlackBuild Generic
# Généré par SismikMakeBuild
# Par Guillaume EDMOND (gedsismik@free.fr)
# 20/07/2006

CWD=`pwd`
PKG=$PWD/tgz
TMP=$PWD/tmp

PRGNAM=verbiste
VERSION=0.1.27
ARCH=$(uname -m)
BUILD=1
PACKAGER=cyco

rm -rf $PKG
mkdir -p $PKG/install
mkdir -p $PKG/usr
mkdir -p $TMP
cd $TMP
rm -rf $PRGNAM-$VERSION
tar zxvf $CWD/$PRGNAM-$VERSION.tar.gz
cd $PRGNAM-$VERSION
chown -R root.root .

./configure \
    --prefix=/usr \
    --mandir=/usr/man \
    --libdir=/usr/lib$(echo $ARCH | grep -o "\(64\)")
make
make install DESTDIR=$PKG

gzip -9 $PKG/usr/man/man?/*
gzip -9 $PKG/usr/man/fr/man?/*

chown -R root.bin $PKG/usr/bin

cat <<EOF > $PKG/install/slack-desc
$PRGNAM: $PRGNAM
$PRGNAM: $PRGNAM-sismik-package
$PRGNAM:
$PRGNAM: $PRGNAM est un syst�me de conjugaison fran�aise. Il s'agit d'une 
$PRGNAM: librairie �crite en C++, de deux programmes aussi �crits en C++ 
$PRGNAM: qui peuvent �tre utilis�s � la ligne de commande ou � partir d'un 
$PRGNAM: autre programme, et d'une applet GNOME.  
$PRGNAM:
$PRGNAM:
$PRGNAM: http://perso.b2b2c.ca/sarrazip/dev/verbiste.html
$PRGNAM:
EOF

cd $PKG
makepkg -l y -c n /tmp/$PRGNAM-$VERSION-$ARCH-$BUILD$PACKAGER.txz

