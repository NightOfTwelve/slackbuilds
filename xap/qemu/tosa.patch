--- qemu-0.10.5/hw/zaurus.c.orig        2009-05-20 22:46:59.000000000 +0200
+++ qemu-0.10.5/hw/zaurus.c     2009-08-15 01:45:57.000000000 +0200
@@ -160,7 +160,7 @@ 
 
 void scoop_gpio_set(void *opaque, int line, int level)
 {
-    ScoopInfo *s = (ScoopInfo *) s;
+    ScoopInfo *s = (ScoopInfo *) opaque;
 
     if (level)
         s->gpio_level |= (1 << line);

